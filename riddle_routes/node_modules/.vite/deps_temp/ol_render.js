import {
  Immediate_default,
  getSquaredTolerance
} from "./chunk-QIOVLZEZ.js";
import "./chunk-HGYBZI5J.js";
import "./chunk-4J4E7U74.js";
import "./chunk-PH7MPD4G.js";
import "./chunk-HDQZBFKH.js";
import "./chunk-DLKU2FEC.js";
import "./chunk-HPFJGI32.js";
import "./chunk-LUY66WXM.js";
import {
  apply,
  create,
  multiply,
  scale
} from "./chunk-X7OBMF6V.js";
import {
  DEVICE_PIXEL_RATIO
} from "./chunk-TBCUDTM5.js";
import "./chunk-BBGY6CI2.js";
import {
  getTransformFromProjections,
  getUserProjection
} from "./chunk-QO3M7UHU.js";
import "./chunk-RR2KO4RX.js";
import "./chunk-CIWKB7GE.js";
import "./chunk-DRJCN2FO.js";
import "./chunk-VAQZAT6D.js";

// node_modules/ol/render.js
function toContext(context, options) {
  const canvas = context.canvas;
  options = options ? options : {};
  const pixelRatio = options.pixelRatio || DEVICE_PIXEL_RATIO;
  const size = options.size;
  if (size) {
    canvas.width = size[0] * pixelRatio;
    canvas.height = size[1] * pixelRatio;
    canvas.style.width = size[0] + "px";
    canvas.style.height = size[1] + "px";
  }
  const extent = [0, 0, canvas.width, canvas.height];
  const transform = scale(create(), pixelRatio, pixelRatio);
  return new Immediate_default(context, pixelRatio, extent, transform, 0);
}
function getVectorContext(event) {
  if (!(event.context instanceof CanvasRenderingContext2D)) {
    throw new Error("Only works for render events from Canvas 2D layers");
  }
  const canvasPixelRatio = event.inversePixelTransform[0];
  const frameState = event.frameState;
  const transform = multiply(
    event.inversePixelTransform.slice(),
    frameState.coordinateToPixelTransform
  );
  const squaredTolerance = getSquaredTolerance(
    frameState.viewState.resolution,
    canvasPixelRatio
  );
  let userTransform;
  const userProjection = getUserProjection();
  if (userProjection) {
    userTransform = getTransformFromProjections(
      userProjection,
      frameState.viewState.projection
    );
  }
  return new Immediate_default(
    event.context,
    canvasPixelRatio,
    frameState.extent,
    transform,
    frameState.viewState.rotation,
    squaredTolerance,
    userTransform
  );
}
function getRenderPixel(event, pixel) {
  return apply(event.inversePixelTransform, pixel.slice(0));
}
export {
  getRenderPixel,
  getVectorContext,
  toContext
};
//# sourceMappingURL=ol_render.js.map
