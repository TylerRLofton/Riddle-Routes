import {
  Immediate_default,
  getSquaredTolerance
} from "./chunk-ZZQIUS4R.js";
import "./chunk-YKIC2YL3.js";
import "./chunk-5TDNKDLD.js";
import "./chunk-SAYOZ2PI.js";
import "./chunk-4D36UE7E.js";
import "./chunk-YIR6E7ME.js";
import "./chunk-WRVD2SBW.js";
import "./chunk-IEIFATIQ.js";
import {
  apply,
  create,
  multiply,
  scale
} from "./chunk-XCGB3DA7.js";
import {
  DEVICE_PIXEL_RATIO
} from "./chunk-VL3MTGCF.js";
import "./chunk-IHQ4MM4P.js";
import {
  getTransformFromProjections,
  getUserProjection
} from "./chunk-NQTIMU43.js";
import "./chunk-CBIKRMFJ.js";
import "./chunk-O5DQMQHB.js";
import "./chunk-VXW2LBXG.js";
import "./chunk-LJ2RWGJR.js";

// node_modules/ol/render.js
function toContext(context, options) {
  const canvas = context.canvas;
  options = options ? options : {};
  const pixelRatio = options.pixelRatio || DEVICE_PIXEL_RATIO;
  const size = options.size;
  if (size) {
    canvas.width = size[0] * pixelRatio;
    canvas.height = size[1] * pixelRatio;
    canvas.style.width = size[0] + "px";
    canvas.style.height = size[1] + "px";
  }
  const extent = [0, 0, canvas.width, canvas.height];
  const transform = scale(create(), pixelRatio, pixelRatio);
  return new Immediate_default(context, pixelRatio, extent, transform, 0);
}
function getVectorContext(event) {
  if (!(event.context instanceof CanvasRenderingContext2D)) {
    throw new Error("Only works for render events from Canvas 2D layers");
  }
  const canvasPixelRatio = event.inversePixelTransform[0];
  const frameState = event.frameState;
  const transform = multiply(
    event.inversePixelTransform.slice(),
    frameState.coordinateToPixelTransform
  );
  const squaredTolerance = getSquaredTolerance(
    frameState.viewState.resolution,
    canvasPixelRatio
  );
  let userTransform;
  const userProjection = getUserProjection();
  if (userProjection) {
    userTransform = getTransformFromProjections(
      userProjection,
      frameState.viewState.projection
    );
  }
  return new Immediate_default(
    event.context,
    canvasPixelRatio,
    frameState.extent,
    transform,
    frameState.viewState.rotation,
    squaredTolerance,
    userTransform
  );
}
function getRenderPixel(event, pixel) {
  return apply(event.inversePixelTransform, pixel.slice(0));
}
export {
  getRenderPixel,
  getVectorContext,
  toContext
};
//# sourceMappingURL=ol_render.js.map
